# QuickSort

这里实现了三个版本的快排：
  - two-way quicksort
  - three-way quicksort
  - double-pivot quicksort

## 已知条件

假设我们要对一个数组`array`的一部分进行快排，该部分为闭区间为`[start, end]`。
其中`start >= 0`, `end < len(array)`。

pivot的值这里我们选择为`array[start]`, 当然你也可以选择区间[start, end]中的任
意一个。快排的精髓就在这里，我们把pivot放到它`应该在的位置`上，然后再排序未排
序的部分就可以了。

那什么是`应该在的位置`呢？我们以two-way来说明，其他方式类似。仔细考虑一下，假
设我们排序过后就只保证pivot的位置正确，其余的不管那么最终结果肯定是: 所有不大
于pivot的元素落在pivot的左边，而且这部分元素是未排好序的；所有大于pivot的元素
落在pivot的右边，同样这部分元素也是未排好序的。

###例

假设array = [8, 0, 2, 7, 10, 21], start=0, end=5, pivot=8。那么快排一趟的结果
为：[7 0 2 8 10 21]。

我们可以看到所有不大于8的数都在8的左边，所有大于8的都在8的右边。8现在所在的位
置就是其在最终排好序的序列里的位置，所以8我们就不用再排了，我们只需把8左边和
右边的部分再按照此方法排好序就行了。

## Two-way QuickSort

two-way方式，即快排的过程中使用了两个游标（pointer）。

每次快排完的中间结果分为三个部分，左边部分全部`不大于`pivot，右边部分全部`大于`
pivot，中间部分`只有一个`元素pivot(不同于three-way，two-way方式中间部分只有一个pivot)。

观察下面排序过程，体会two-way的工作方式，箭头中间的部分表示未被排序的。

    20 8 20 20 9 18 20 57 2 8 30 3 30 45 1
    ↑____________________________________↑

    3 8 20 20 9 18 20 1 2 8 20 30 30 45 57
    ↑_____________________↑    ↑_________↑

    1 2 3 20 9 18 20 20 8 8 20 30 30 45 57
    ↑_↑   ↑_______________↑    ↑_________↑

    1 2 3 20 9 18 20 20 8 8 20 30 30 45 57
          ↑_______________↑    ↑_________↑

    1 2 3 8 9 18 20 20 8 20 20 30 30 45 57
          ↑____________↑       ↑_________↑

    1 2 3 8 8 18 20 20 9 20 20 30 30 45 57
              ↑________↑       ↑_________↑

    1 2 3 8 8 9 18 20 20 20 20 30 30 45 57
                   ↑___↑       ↑_________↑

    1 2 3 8 8 9 18 20 20 20 20 30 30 45 57
                               ↑_________↑

    1 2 3 8 8 9 18 20 20 20 20 30 30 45 57
                                     ↑___↑

    1 2 3 8 8 9 18 20 20 20 20 30 30 45 57

## Three-Way QuickSort

three-way方式，即快排的过程中使用了三个游标(pointer)。

每次中间结果把要快排的部分分成三个子部分，左边全部小于pivot，右边全部大于
pivot，中间的全部等于pivot(不同于two way方式，three way中间部分的长度可能大于1)。
然后递归地把左边和右边的部分再次进行快排，直至要快排的部分长度小于2。

下面是一个三指针快排的过程，两个箭头之内的部分表示尚未排序的，剩余的则为已
排序的。

仔细观察体会三指针快排中间结果的特点。

    20 8 20 20 9 18 20 57 2 8 30 3 30 45 1
    ↑____________________________________↑

    8 9 18 1 2 8 3 20 20 20 20 30 45 30 57
    ↑____________↑             ↑_________↑

    3 1 2 8 8 18 9 20 20 20 20 30 45 30 57
    ↑___↑     ↑__↑             ↑_________↑

    1 2 3 8 8 18 9 20 20 20 20 30 45 30 57
    ↑_↑       ↑__↑             ↑_________↑

    1 2 3 8 8 18 9 20 20 20 20 30 45 30 57
                 ↑__↑          ↑_________↑

    1 2 3 8 8 9 18 20 20 20 20 30 45 30 57
                               ↑_________↑

    1 2 3 8 8 9 18 20 20 20 20 30 30 57 45
                                     ↑___↑

    1 2 3 8 8 9 18 20 20 20 20 30 30 45 57
